// Author: Zakro Gogolidze
// Copyright 2021. All rights reserved.
// license that can be found in the LICENSE file.
"use strict";var Speach=function(){function t(t){this.setting=t}return t.prototype.run=function(){var t=this;this.browserSupport()||(document.querySelector(this.setting.html.result).value="Your browser is not supported. Please download Google chrome or Update your Google chrome!");var e=new webkitSpeechRecognition;e.continuous=!0,e.interimResults=!0,e.lang=this.setting.language,document.querySelector(this.setting.html.buttons.start).addEventListener("click",function(){t.startConverting(e)}),document.querySelector(this.setting.html.buttons.stop).addEventListener("click",function(){t.stopConverting(e)}),document.querySelector(this.setting.html.buttons.clear).addEventListener("click",function(){t.clearConverting()})},t.prototype.startConverting=function(t){var e=this;t.start();var n="";t.onresult=function(t){for(var r="",o=t.resultIndex;o<t.results.length;o++){var i=t.results[o][0].transcript;i.replace("\n","<br>"),t.results[o].isFinal?n+=i:r+=i}document.querySelector(e.setting.html.result).value=n+r},t.onerror=function(t){console.error(t)}},t.prototype.stopConverting=function(t){t.abort()},t.prototype.clearConverting=function(){document.querySelector(this.setting.html.result).value=""},t.prototype.browserSupport=function(){return"webkitSpeechRecognition"in window},t}();